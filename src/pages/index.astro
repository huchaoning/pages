---
// @ts-nocheck
import MainLayout, {
  glassEffect,
  slateLinear,
} from "../layouts/MainLayout.astro";
import { Icon } from "astro-icon/components";

const interests = [
  {
    title: "Quantum Metrology",
    desc: "Exploring fundamental limits imposed by quantum mechanics.",
    details:
      "Quantum metrology explores the fundamental precision limits of physical measurements imposed by quantum mechanics, aiming to develop techniques that surpass classical limits. My research focuses on quantum parameter estimation, a rigorous theoretical framework designed to quantify the extractable information&mdash;specifically the Quantum Fisher Information&mdash;within a given quantum state. This field enables the systematic evaluation and optimization of measurement schemes to achieve the ultimate precision in estimating unknown parameters.",
    icon: "lucide:ruler",
  },
  {
    title: "Quantum Imaging",
    desc: "Optical super-resolution beyond classical limits.",
    details:
      "In a broad context, quantum imaging leverages quantum correlations and nonclassical light to surpass the fundamental limits of traditional imaging. My primary research focuses on spatial-mode demultiplexing (SPADE), pioneered by M. Tsang <i>et al.</i> [<i>Phys. Rev. X</i> 6, 031033 (2016)]. In contrast to traditional direct imaging, which measures photon positions, SPADE decomposes the optical field into a set of nontrivial spatial modes, such as Hermite-Gaussian modes. This methodology significantly enhances the precision of estimating the separation between two incoherent point sources&mdash;circumventing the Rayleigh limit&mdash;and reduces error probabilities in the hypothesis testing of optical-source properties.",
    icon: "lucide:microscope",
  },
  {
    title: "Computer Science & AI",
    desc: "“Not my major, just a hobbyist, driven by personal interest.”",
    details:
      "I don&rsquo;t have a formal computer science background; I&rsquo;m just a self-learner with a particular interest in hardware and modern programming. In the current AI era, I see my interest in tech as a practical toolkit to support my research. But just to be clear&mdash;my primary passion remains firmly rooted in the exploration of fundamental physics.",
    icon: "lucide:cpu",
  },
];

const cardBase = `${glassEffect} group p-8 rounded-4xl transition-all duration-300 hover:-translate-y-1`;
---

<MainLayout title="Chao-Ning Hu | Home">
  <main class="max-w-5xl mx-auto px-8 pt-48 pb-32">
    <header class="mb-24">
      <p
        class="text-[10px] font-bold text-slate-400 uppercase tracking-[0.4em] mb-4"
      >
        Ahoy, this is
      </p>
      <h1
        class="text-6xl md:text-8xl font-black tracking-tighter leading-none mb-6"
      >
        <span class=`${slateLinear} leading-tight pb-0`>Chao-Ning Hu</span>
      </h1>
      <p
        class="text-xl md:text-2xl font-medium text-slate-500 max-w-xl leading-snug"
      >
        Welcome to my Homepage
      </p>
    </header>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
      {
        interests.map(({ title, desc, details, icon }) => (
          <div
            class={`${cardBase} cursor-pointer interest-card`}
            data-title={title}
            data-details={details}
          >
            <div class="text-3xl mb-6 text-slate-800 group-hover:scale-105 transition-all duration-500">
              <Icon name={icon} class="w-8 h-8 " />
            </div>
            <h3 class={`text-xl font-bold mb-2 ${slateLinear}`}>{title}</h3>
            <p class="text-sm text-slate-600 leading-relaxed line-clamp-2 [hyphens:auto]">
              {desc}
            </p>
          </div>
        ))
      }
    </div>
  </main>

  <div
    id="overlay"
    class="fixed inset-0 bg-white/5 backdrop-blur-lg z-50 opacity-0 pointer-events-none transition-opacity duration-500 flex items-center justify-center p-6 cursor-zoom-out"
  >
    <div
      id="modal"
      class=`max-w-2xl w-full ${glassEffect} p-10 rounded-4xl transform transition-all duration-500 cursor-default`
    >
      <h3 id="modal-title" class=`text-2xl font-bold mb-4 ${slateLinear}`></h3>
      <p
        id="modal-content"
        class="text-black leading-relaxed text-sm md:text-base text-justify [hyphens:auto] [text-justify:inter-word]"
      >
      </p>
    </div>
  </div>
</MainLayout>

<style>
  .modal-active {
    transform: scale(1) !important;
    opacity: 1 !important;
  }
</style>

<script>
  // @ts-nocheck
  const cards = document.querySelectorAll(".interest-card");
  const overlay = document.getElementById("overlay");
  const modal = document.getElementById("modal");
  const modalTitle = document.getElementById("modal-title");
  const modalContent = document.getElementById("modal-content");

  function openModal(title, details) {
    if (!overlay || !modal || !modalTitle || !modalContent) return;

    modalTitle.innerText = title;
    modalContent.innerHTML = details;

    overlay.classList.remove("pointer-events-none", "opacity-0");
    overlay.classList.add("opacity-100");

    setTimeout(() => {
      modal.classList.add("modal-active");
    }, 50);
  }

  function closeModal() {
    if (!overlay || !modal) return;
    modal.classList.remove("modal-active");
    overlay.classList.remove("opacity-100");
    overlay.classList.add("opacity-0");
    overlay.classList.add("pointer-events-none");
  }

  cards.forEach((card) => {
    card.addEventListener("click", () => {
      const title = card.getAttribute("data-title");
      const details = card.getAttribute("data-details");
      openModal(title, details);
    });
  });

  overlay?.addEventListener("click", (e) => {
    if (e.target === overlay) closeModal();
  });

  window.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeModal();
  });
</script>
